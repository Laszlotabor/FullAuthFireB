<div class="auth-container">
  <div class="auth-box">
    <h2>Login</h2>

    <form #loginForm="ngForm" (ngSubmit)="login()" novalidate>
      <!-- Email Input Field -->
      <div class="input-group">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          [(ngModel)]="email"
          name="email"
          required
          email
          #emailCtrl="ngModel"
        />
        <p class="error-msg" *ngIf="emailCtrl.invalid && emailCtrl.touched">
          * {{ emailCtrl.errors?.['required'] ? 'Email is required' : '' }}
          * {{ emailCtrl.errors?.['email'] ? 'Invalid email format' : '' }}
        </p>
      </div>

      <!-- Password Input Field -->
      <div class="input-group">
        <label for="password">Password</label>
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            [(ngModel)]="password"
            name="password"
            required
            minlength="8"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}"
            #passwordCtrl="ngModel"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility()"
          >
            {{ showPassword ? '🙈' : '👁️' }}
          </button>
        </div>
        <p class="error-msg" *ngIf="passwordCtrl.invalid && passwordCtrl.touched">
          * {{ passwordCtrl.errors?.['required'] ? 'Password is required' : '' }}
          * {{ passwordCtrl.errors?.['minlength'] ? 'Password must be at least 8 characters' : '' }}
          * {{ passwordCtrl.errors?.['pattern'] ? 'Password must include uppercase, lowercase, number, and special character' : '' }}
        </p>
      </div>

      <!-- Submit Button (Disabled if form is invalid) -->
      <button type="submit" class="btn" [disabled]="loginForm.invalid">Login</button>
      <button (click)="loginWithGoogle()" class="btn" ><span style="font-weight: bolder;">G</span>oogle</button>
      <p><a routerLink="/resetpassword">Forgot Password?</a></p>
    </form>

    <p class="switch-link">
      Don't have an account? <a routerLink="/signin">Sign Up</a>
    </p>
  </div>
</div>
